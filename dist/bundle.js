!function(t){function e(i){if(s[i])return s[i].exports;var o=s[i]={exports:{},id:i,loaded:!1};return t[i].call(o.exports,o,o.exports,e),o.loaded=!0,o.exports}var s={};return e.m=t,e.c=s,e.p="",e(0)}([function(t,e,s){"use strict";var i,o=s(3);!function(t){new o.SVGProgressChart("SVGChart",{width:800,height:100,time:450,data:[{type:"positive",width:10},{type:"neutral",width:10},{type:"negative",width:20},{type:"positive",width:5}]})}(i||(i={}))},function(t,e){"use strict";e.Colors={positive:"#1abc9c",negative:"#e74c3c",neutral:"rgba(0,0,0,0)","default":"#DDDDDD"},e.TrimSpacesRegEx=/(  +)|(?:\r\n|\r|\n|\r\s)/g},function(t,e,s){"use strict";var i=this&&this.__extends||function(t,e){function s(){this.constructor=t}for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);t.prototype=null===e?Object.create(e):(s.prototype=e.prototype,new s)},o=s(1);e.SVGSchemaURI="http://www.w3.org/2000/svg";var n=function(){function t(t,e,s,i,o){this.height=t,this.width=e,this.x=s,this.y=i,this.color=o||void 0,this.classList=[]}return t.prototype.addClass=function(t){"classList"in this._el?this._el.classList.add(t):this._el.className.baseVal=this._el.className.baseVal+" "+t},t.prototype.removeClass=function(t){"classList"in this._el?this._el.classList.remove(t):this._el.className.baseVal=this._el.className.baseVal.replace(this.classReg(t)," ")},t.prototype.classReg=function(t){return new RegExp("(^|\\s+)"+t+"(\\s+|$)")},t}();e.Shape=n;var r=function(t){function s(e,s,i,o,n){var r=t.call(this,e,s,i,o,n)||this;return r._el=r.createElement(),r.update(),r}return i(s,t),s.prototype.createElement=function(){return document.createElementNS(e.SVGSchemaURI,"rect")},s.prototype.update=function(){var t=this._el;t.setAttribute("width",this.width.toString()+"%"),t.setAttribute("height",this.height.toString()),t.setAttribute("x",this.x.toString()+"%"),t.setAttribute("y",this.y.toString()),t.setAttribute("class","transition");var e="fill:"+this.color+";";this.color&&t.setAttribute("style",e),this.classList.forEach(function(e){t.classList.contains(e)||t.classList.add(e)})},s.prototype.moveTo=function(t){this._el.setAttribute("transform","scale("+t+",1)"),this._el.style.transform="scale3d("+t+",1,1)",this._el.style.webkitTransform="scale3d("+t+",1,1)",this._el.style["-ms-transform"]="scale3d("+t+",1,1)",this.value=t},s.prototype.show=function(){this.addClass("show")},s.prototype.hide=function(){this.removeClass("hide")},s}(n);e.Rect=r;var h=function(t){function s(e,s,i,o,n,r,h){var a=t.call(this,e,s,i,o,r)||this;return a.text=n||"00:00:00",a.components={text:null},a._el=a.createElement(),a}return i(s,t),s.prototype.createElement=function(){var t=document.createElementNS(e.SVGSchemaURI,"path");t.setAttribute("d",("M"+this.x+" "+this.y+"\n                                L"+(this.width+this.x)+" "+this.y+"\n                                L"+(this.width+this.x)+" "+(this.height+this.y)+"\n                                L"+(this.x+this.width/2+7)+" "+(this.height+this.y)+"\n                                L"+(this.x+this.width/2)+" "+(this.height+this.y+7)+"\n                                L"+(this.x+this.width/2-7)+" "+(this.height+this.y)+"\n                                L"+this.x+" "+(this.height+this.y)).replace(o.TrimSpacesRegEx," "));var s=document.createElementNS(e.SVGSchemaURI,"text");s.textContent=this.text,s.setAttribute("x",""+(this.x+this.width/2-30)),s.setAttribute("y",""+(this.y+this.height/2+5)),s.setAttribute("fill","rgba(0,0,0,.6)"),this.components.text=s;var i=document.createElementNS(e.SVGSchemaURI,"g");return this.color&&i.setAttribute("fill",""+this.color),i.setAttribute("class","transition tooltip"),i.appendChild(t),i.appendChild(s),i},s.prototype.toTimeText=function(t){var e=t,s=Math.floor(e/3600),i=Math.floor((e-3600*s)/60),o=e-3600*s-60*i;return o=parseInt(o,10),10>s&&(s="0"+s),10>i&&(i="0"+i),10>o&&(o="0"+o),s+":"+i+":"+o},s.prototype.show=function(){this.addClass("show")},s.prototype.hide=function(){this.removeClass("show")},s.prototype.moveTo=function(t,e){this._el.setAttribute("transform","translate("+t+" 0)"),this._el.style.transform="translate3d("+t+"px,0,0)",this._el.style.webkitTransform="translate3d("+t+"px,0,0)",this.components.text.textContent=this.toTimeText(e)},s.prototype.setColor=function(t){this._el.setAttribute("fill",t)},s.prototype.hasClass=function(t){for(var e=" "+t+" ",s=0,i=this._el.length;i>s;s++)if(1===this._el[s].nodeType&&(" "+this._el[s].className+" ").replace(/[\t\r\n]/g," ").indexOf(e)>=0)return!0;return!1},s.prototype.update=function(){},s}(n);e.Tooltip=h},function(t,e,s){"use strict";var i=s(1),o=s(2),n=function(){return window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||function(t){window.setTimeout(t,1e3/60)}}(),r=function(){function t(t,e){if(this.options={height:500,width:500,data:[],time:0},this.id=t,this.rootElement=document.getElementById(t),!t||!this.rootElement)throw"Root SVG Element is missing";e&&(this.options.height=e.height,this.options.width=e.width,this.options.data=e.data,this.options.time=e.time),this.rootElement.setAttribute("height",this.options.height.toString()),this.rootElement.setAttribute("width",this.options.width.toString()),this.components={progressBar:{bar:null,buffer:null,overlay:null,progress:null,tooltip:null},events:[]},this.init()}return t.prototype.setBuffer=function(t){t=Math.min(t,this.options.time);var e,s=this;t&&(e=Math.min(t/s.options.time*100,s.options.time),n(function(){s.components.progressBar.buffer.moveTo(e)}))},t.prototype.setProgress=function(t){t=Math.min(t,this.options.time);var e,s=this;t&&(e=Math.min(t/s.options.time*100,s.options.time),n(function(){s.components.progressBar.progress.moveTo(e)}))},t.prototype.setPreBuffer=function(t){t=Math.min(t,this.options.time);var e=t/this.options.time,s=e*this.options.width-this.components.progressBar.tooltip.width/2;s=Math.max(Math.min(s,this.options.width-this.components.progressBar.tooltip.width),0),this.components.progressBar.tooltip.show(),this.components.progressBar.buffer.show(),this.setBuffer(t),this.components.progressBar.tooltip.moveTo(s,t)},t.prototype.init=function(){var t=this,e=new o.Rect(10,100,0,50);e.addClass("bar"),this.rootElement.appendChild(e._el),this.components.progressBar.bar=e;var s=new o.Rect(10,1,0,50);s.addClass("progress"),s.moveTo(0);var r=new o.Rect(10,1,0,50);this.rootElement.appendChild(r._el),this.components.progressBar.buffer=r,r.addClass("buffer"),r.moveTo(0),this.rootElement.appendChild(s._el),this.components.progressBar.progress=s,console.log(this),this.options.data&&this.options.data.forEach(function(e,s){e.x=s?t.options.data[s-1].x+t.options.data[s-1].width:0;var n=new o.Rect(20,e.width,e.x,45,i.Colors[e.type]);n.type=e.type,n.addClass(e.type),t.components.events.push(n),t.rootElement.appendChild(n._el)});var h=new o.Rect(40,100,0,30,"rgba(255,255,255,0)");h.addClass("overlay"),this.components.progressBar.overlay=h,this.rootElement.appendChild(h._el);var a=new o.Tooltip(30,90,0,0,"00:00:00");this.components.progressBar.tooltip=a,this.rootElement.appendChild(a._el),h._el.addEventListener("click",function(e){var i=e.offsetX/t.options.width*100;n(function(){s.moveTo(i)})}),h._el.addEventListener("mouseleave",function(t){n(function(){a.hide(),r.hide()})});var l;h._el.addEventListener("mousemove",function(e){var s=e.offsetX/t.options.width*t.options.width-a.width/2,o=e.offsetX/t.options.width*t.options.time;s=Math.max(Math.min(s,t.options.width-a.width),0),clearTimeout(l),l=setTimeout(function(){t.components.events.forEach(function(s){a.removeClass("positive"),a.removeClass("negative"),e.offsetX>=s.x*t.options.width/100&&e.offsetX<(s.x+s.width)/100*t.options.width&&s.color!==i.Colors.neutral&&n(function(){a.addClass(s.type)})})},10),n(function(){t.setPreBuffer(o)})})},t}();e.SVGProgressChart=r}]);